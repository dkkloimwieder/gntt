import{c as d,q as Y,t as F,i as s,h as I,o as J,B as u,y as K,k as w}from"./calendar-PDbbVejm.js";var N=F('<div class=gantt-container style=display:grid;overflow:hidden;position:relative><div class=resource-header style="grid-row:1;grid-column:1;display:flex;align-items:center;justify-content:center;background-color:var(--g-header-bg-color, #fff);border-right:1px solid var(--g-grid-line-color, #e0e0e0);border-bottom:1px solid var(--g-grid-line-color, #e0e0e0);font-weight:600;font-size:12px;color:var(--g-header-text-color, #333);z-index:20"></div><div class=date-headers-wrapper style="grid-row:1;grid-column:2;overflow:hidden;background-color:var(--g-header-bg-color, #fff);border-bottom:1px solid var(--g-grid-line-color, #e0e0e0);z-index:10"></div><div class=resource-body-wrapper style="grid-row:2;grid-column:1;overflow:hidden;background-color:var(--g-resource-bg, #fff);border-right:1px solid var(--g-grid-line-color, #e0e0e0);z-index:9"></div><div class=gantt-scroll-area style=grid-row:2;grid-column:2;overflow:auto><div class=gantt-content style=position:relative><svg class=gantt width=100% height=100% style=display:block;position:absolute;top:0;left:0></svg><div class=gantt-bars-layer style=position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none>');const B=100;typeof window<"u"&&(window.__ganttScrollDebug={domSync:0,signalUpdate:0,total:0,worstTotal:0,callCount:0});function Z(e){let n,b,c,g;const[x,S]=d(0),[$,C]=d(0),[T,H]=d(0),[p,G]=d(0),[M]=d({domSync:0,signalUpdate:0,total:0,worstTotal:0}),V=()=>e.resourceColumnWidth||60,j=()=>e.headerHeight?e.headerHeight:e.ganttConfig?.headerHeight?e.ganttConfig.headerHeight():60;let h=0,m=null,L=0,R=0;const q=t=>{const l=t.target,{scrollLeft:r,scrollTop:o}=l;c&&(c.scrollLeft=r),g&&(g.scrollTop=o),L=r,R=o;const a=performance.now();a-h>=B?(h=a,S(r),C(o)):m||(m=setTimeout(()=>{m=null,h=performance.now(),S(L),C(R)},B-(a-h))),e.onScroll?.(r,o)},A=(t,l=!0)=>{n&&(l?n.scrollTo({left:t,behavior:"smooth"}):n.scrollLeft=t)};Y(()=>{if(n){H(n.clientWidth);const t=new ResizeObserver(l=>{for(const r of l)H(r.contentRect.width),G(r.contentRect.height)});t.observe(n),J(()=>t.disconnect())}e.onContainerReady?.({scrollTo:A,getScrollLeft:()=>x(),getScrollTop:()=>$(),getContainerWidth:()=>T(),getContainerHeight:()=>p(),getSvgElement:()=>b,scrollLeftSignal:x,scrollTopSignal:$,containerWidthSignal:T,containerHeightSignal:p,scrollTimingSignal:M,resetWorstTiming:()=>{}})});const D=()=>{const t=e.ganttConfig;return t?{"--gv-column-width":`${t.columnWidth?.()||45}px`,"--gv-bar-height":`${t.barHeight?.()||30}px`,"--gv-header-height":`${t.headerHeight?.()||60}px`,"--gv-padding":`${t.padding?.()||18}px`,"--gv-bar-corner-radius":`${t.barCornerRadius?.()||3}px`}:{}},y=()=>e.height?e.height:"100%";return(()=>{var t=N(),l=t.firstChild,r=l.nextSibling,o=r.nextSibling,a=o.nextSibling,f=a.firstChild,v=f.firstChild,P=v.nextSibling;s(l,()=>e.resourceHeaderLabel||"Resource");var W=c;typeof W=="function"?u(W,r):c=r,s(r,()=>e.header);var _=g;typeof _=="function"?u(_,o):g=o,s(o,()=>e.resourceColumn),a.addEventListener("scroll",q);var z=n;typeof z=="function"?u(z,a):n=a;var k=b;return typeof k=="function"?u(k,v):b=v,s(v,()=>e.children),s(P,()=>e.barsLayer),s(t,()=>e.overlay,null),I(i=>{var X={...D(),"grid-template-columns":`${V()}px 1fr`,"grid-template-rows":`${j()}px 1fr`,height:typeof y()=="number"?`${y()}px`:y()},E=e.svgWidth?`${e.svgWidth}px`:"100%",O=`${e.svgHeight||300}px`,U=e.svgWidth?`${e.svgWidth}px`:void 0;return i.e=K(t,X,i.e),E!==i.t&&w(f,"width",i.t=E),O!==i.a&&w(f,"height",i.a=O),U!==i.o&&w(f,"min-width",i.o=U),i},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}export{Z as G};
