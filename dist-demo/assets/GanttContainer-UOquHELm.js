import{c,v as F,t as I,i as s,g as J,q as K,j as w,o as N,B as u}from"./calendar-K225rnsu.js";var Q=I('<div class=gantt-container style=display:grid;overflow:hidden;position:relative><div class=resource-header style="grid-row:1;grid-column:1;display:flex;align-items:center;justify-content:center;background-color:var(--g-header-bg-color, #fff);border-right:1px solid var(--g-grid-line-color, #e0e0e0);border-bottom:1px solid var(--g-grid-line-color, #e0e0e0);font-weight:600;font-size:12px;color:var(--g-header-text-color, #333);z-index:20"></div><div class=date-headers-wrapper style="grid-row:1;grid-column:2;overflow:hidden;background-color:var(--g-header-bg-color, #fff);border-bottom:1px solid var(--g-grid-line-color, #e0e0e0);z-index:10"></div><div class=resource-body-wrapper style="grid-row:2;grid-column:1;overflow:hidden;background-color:var(--g-resource-bg, #fff);border-right:1px solid var(--g-grid-line-color, #e0e0e0);z-index:9"></div><div class=gantt-scroll-area style=grid-row:2;grid-column:2;overflow:auto><div class=gantt-content style=position:relative><svg class=gantt width=100% height=100% style=display:block;position:absolute;top:0;left:0></svg><div class=gantt-bars-layer style=position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none>');const j=100;typeof window<"u"&&(window.__ganttScrollDebug={domSync:0,signalUpdate:0,total:0,worstTotal:0,callCount:0});function p(t){let a,b,g,h;const[y,S]=c(0),[x,C]=c(0),[$,H]=c(0),[T,B]=c(0),[G]=c({domSync:0,signalUpdate:0,total:0,worstTotal:0}),M=()=>t.resourceColumnWidth||60,V=()=>{var e;return t.headerHeight?t.headerHeight:(e=t.ganttConfig)!=null&&e.headerHeight?t.ganttConfig.headerHeight():60};let f=0,m=null,L=0,R=0;const q=e=>{var l;const{scrollLeft:r,scrollTop:i}=e.target;g&&(g.scrollLeft=r),h&&(h.scrollTop=i),L=r,R=i;const o=performance.now();o-f>=j?(f=o,S(r),C(i)):m||(m=setTimeout(()=>{m=null,f=performance.now(),S(L),C(R)},j-(o-f))),(l=t.onScroll)==null||l.call(t,r,i)},A=(e,r=!0)=>{a&&(r?a.scrollTo({left:e,behavior:"smooth"}):a.scrollLeft=e)};F(()=>{var e;if(a){H(a.clientWidth);const r=new ResizeObserver(i=>{for(const o of i)H(o.contentRect.width),B(o.contentRect.height)});r.observe(a),N(()=>r.disconnect())}(e=t.onContainerReady)==null||e.call(t,{scrollTo:A,getScrollLeft:()=>y(),getScrollTop:()=>x(),getContainerWidth:()=>$(),getContainerHeight:()=>T(),getSvgElement:()=>b,scrollLeftSignal:y,scrollTopSignal:x,containerWidthSignal:$,containerHeightSignal:T,scrollTimingSignal:G,resetWorstTiming:()=>{}})});const D=()=>{var r,i,o,l,d;const e=t.ganttConfig;return e?{"--gv-column-width":`${((r=e.columnWidth)==null?void 0:r.call(e))||45}px`,"--gv-bar-height":`${((i=e.barHeight)==null?void 0:i.call(e))||30}px`,"--gv-header-height":`${((o=e.headerHeight)==null?void 0:o.call(e))||60}px`,"--gv-padding":`${((l=e.padding)==null?void 0:l.call(e))||18}px`,"--gv-bar-corner-radius":`${((d=e.barCornerRadius)==null?void 0:d.call(e))||3}px`}:{}},P=()=>{var e;if(t.height)return t.height;if((e=t.ganttConfig)!=null&&e.containerHeight){const r=t.ganttConfig.containerHeight();if(r!=="auto")return r}return"100%"};return(()=>{var e=Q(),r=e.firstChild,i=r.nextSibling,o=i.nextSibling,l=o.nextSibling,d=l.firstChild,v=d.firstChild,X=v.nextSibling;s(r,()=>t.resourceHeaderLabel||"Resource");var W=g;typeof W=="function"?u(W,i):g=i,s(i,()=>t.header);var _=h;typeof _=="function"?u(_,o):h=o,s(o,()=>t.resourceColumn),l.addEventListener("scroll",q);var z=a;typeof z=="function"?u(z,l):a=l;var k=b;return typeof k=="function"?u(k,v):b=v,s(v,()=>t.children),s(X,()=>t.barsLayer),s(e,()=>t.overlay,null),J(n=>{var Y={...D(),"grid-template-columns":`${M()}px 1fr`,"grid-template-rows":`${V()}px 1fr`,height:P()},E=t.svgWidth?`${t.svgWidth}px`:"100%",O=`${t.svgHeight||300}px`,U=t.svgWidth?`${t.svgWidth}px`:void 0;return n.e=K(e,Y,n.e),E!==n.t&&w(d,"width",n.t=E),O!==n.a&&w(d,"height",n.a=O),U!==n.o&&w(d,"min-width",n.o=U),n},{e:void 0,t:void 0,a:void 0,o:void 0}),e})()}export{p as G};
