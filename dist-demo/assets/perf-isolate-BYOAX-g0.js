import{b as H,n as Tt,t as L,g as C,s as Z,i as b,m as _,I as Et,y as ut,S as ot,j as u,z as yt,d as Ct,l as Gt,a as jt,c as J,q as Ut,B as kt,R as Nt,D as qt,G as Kt,F as Zt,w as Jt,e as N,u as it,p as Qt,o as te,A as ee}from"./calendar-C_HCiwEi.js";import{T as oe,a as ne}from"./TaskDataModal-C9rE8Xux.js";var ie=L("<svg><g class=arrow-layer-batched><path fill=none stroke-linecap=round stroke-linejoin=round></path><path fill=none stroke-linecap=round stroke-linejoin=round></svg>",!1,!0,!1);const nt={CURVE_RADIUS:5,STROKE:"#666",STROKE_WIDTH:1.4,STROKE_OPACITY:1,HEAD_SIZE:5,ALIGNMENT_THRESHOLD:8};function Rt(i,r,a=.5){const e=Math.max(0,Math.min(1,a));switch(r){case"top":return{x:i.x+i.width*e,y:i.y};case"bottom":return{x:i.x+i.width*e,y:i.y+i.height};case"left":return{x:i.x,y:i.y+i.height*e};case"right":return{x:i.x+i.width,y:i.y+i.height*e};default:return{x:i.x+i.width,y:i.y+i.height/2}}}function re(i,r,a){const e=r.y+r.height/2-(i.y+i.height/2),o=Math.abs(e)<=nt.ALIGNMENT_THRESHOLD;return a==="SS"||a==="SF"?o?"left":e<0?"top":"bottom":o?"right":e<0?"top":"bottom"}function ae(i,r,a){const e=r.y+r.height/2-(i.y+i.height/2),o=Math.abs(e)<=nt.ALIGNMENT_THRESHOLD;return a==="FF"||a==="SF"?o?"right":"top":"left"}function se(i,r,a,e,o){if(a==="right"||a==="left")return .5;if(a==="top"||a==="bottom"){if(o==="SS"||o==="SF")return .1;const h=(r.x-e-i.x)/i.width;return Math.max(.1,Math.min(.9,h))}return .5}function de(i,r,a,e,o){const l=r.x-i.x,h=r.y-i.y;if(Math.abs(l)<1&&Math.abs(h)<1||Math.abs(h)<2)return`M${i.x},${i.y}L${r.x},${r.y}`;o=Math.min(o,Math.abs(l)/2,Math.abs(h)/2),o<1&&(o=0);const g=a==="top"||a==="bottom";if(g&&(e==="left"||e==="right")){const c=a==="bottom",d=e==="left",x=r.y,f=r.x<i.x;if(c&&d)return f?`M${i.x},${i.y}V${x-o}a${o},${o},0,0,1,${-o},${o}H${r.x}`:`M${i.x},${i.y}V${x-o}a${o},${o},0,0,0,${o},${o}H${r.x}`;if(!c&&d)return f?`M${i.x},${i.y}V${x+o}a${o},${o},0,0,0,${-o},${-o}H${r.x}`:`M${i.x},${i.y}V${x+o}a${o},${o},0,0,1,${o},${-o}H${r.x}`}if(g){const c=h<0,d=l<0;return c?d?`M${i.x},${i.y}V${r.y+o}a${o},${o},0,0,0,${-o},${-o}H${r.x}`:`M${i.x},${i.y}V${r.y+o}a${o},${o},0,0,1,${o},${-o}H${r.x}`:d?`M${i.x},${i.y}V${r.y-o}a${o},${o},0,0,1,${-o},${o}H${r.x}`:`M${i.x},${i.y}V${r.y-o}a${o},${o},0,0,0,${o},${o}H${r.x}`}const n=i.x+l/2;return h<0?`M${i.x},${i.y}H${n-o}a${o},${o},0,0,0,${o},${-o}V${r.y+o}a${o},${o},0,0,1,${o},${-o}H${r.x}`:`M${i.x},${i.y}H${n-o}a${o},${o},0,0,1,${o},${o}V${r.y-o}a${o},${o},0,0,0,${o},${o}H${r.x}`}function le(i,r,a){if(a<=0)return"";const e=i.x,o=i.y;switch(r){case"top":return`M${e-a},${o-a}L${e},${o}L${e+a},${o-a}`;case"bottom":return`M${e-a},${o+a}L${e},${o}L${e+a},${o+a}`;case"right":return`M${e+a},${o-a}L${e},${o}L${e+a},${o+a}`;default:return`M${e-a},${o-a}L${e},${o}L${e-a},${o+a}`}}function ce(i,r,a,e,o){const l=re(i,r,a),h=ae(i,r,a),g=se(i,r,l,e,a),t=Rt(i,l,g),n=Rt(r,h,.5),s=de(t,n,l,h,e),c=le(n,h,o);return{linePath:s,headPath:c}}let $t=new Map,at={lines:"",heads:""},ft=new Set;function ge(i){const r=()=>{var f;return((f=i.arrowConfig)==null?void 0:f.curveRadius)??nt.CURVE_RADIUS},a=()=>{var f;return((f=i.arrowConfig)==null?void 0:f.headSize)??nt.HEAD_SIZE},e=()=>{var f;return((f=i.arrowConfig)==null?void 0:f.stroke)??nt.STROKE},o=()=>{var f;return((f=i.arrowConfig)==null?void 0:f.strokeWidth)??nt.STROKE_WIDTH},l=()=>{var f;return((f=i.arrowConfig)==null?void 0:f.strokeOpacity)??nt.STROKE_OPACITY},h=()=>i.startRow??0,g=()=>i.endRow??1/0,t=()=>{var f;return((f=i.taskStore)==null?void 0:f.rowHeight)??38},n=()=>i.startX??0,s=()=>i.endX??1/0,c=()=>{var v;const f=(v=i.taskStore)==null?void 0:v.tasks;return f?Object.keys(f).length:0},d=H(()=>{const f=i.relationships||[];if(f.length===0)return{index:new Map,positions:new Map};const v=i.taskStore;if(!v)return{index:new Map,positions:new Map};if(c()===0)return{index:new Map,positions:new Map};$t.clear(),ft=new Set,at={lines:"",heads:""};const $=t(),m=new Map,y=new Map;for(let D=0;D<f.length;D++){const R=f[D],T=R.from??R.predecessorId,E=R.to??R.successorId,M=Tt(()=>v.getBarPosition(T)),W=Tt(()=>v.getBarPosition(E));if(!M||!W)continue;y.set(D,{from:M,to:W,type:R.type||"FS"});const j=Math.floor(M.y/$),P=Math.floor(W.y/$),k=Math.min(j,P),A=Math.max(j,P);for(let O=k;O<=A;O++)m.has(O)||m.set(O,new Set),m.get(O).add(D)}return{index:m,positions:y}}),x=H(()=>{const{index:f,positions:v}=d();if(v.size===0)return{lines:"",heads:""};const w=h(),$=g(),m=n(),y=s(),D=r(),R=a(),T=new Set;for(let P=w-3;P<=$+3;P++){const k=f.get(P);if(k)for(const A of k)T.add(A)}const E=new Set;for(const P of T){const k=v.get(P);if(!k)continue;const A=k.from.x+k.from.width,O=k.to.x+k.to.width,ct=A>=m&&k.from.x<=y,rt=O>=m&&k.to.x<=y;(ct||rt)&&E.add(P)}if(E.size===ft.size&&[...E].every(P=>ft.has(P))&&at.lines!=="")return at;ft=new Set(E);const W=[],j=[];for(const P of E){let k=$t.get(P);if(!k){const A=v.get(P);A&&(k=ce(A.from,A.to,A.type,D,R),$t.set(P,k))}k&&(W.push(k.linePath),k.headPath&&j.push(k.headPath))}return at={lines:W.join(" "),heads:j.join(" ")},at});return(()=>{var f=ie(),v=f.firstChild,w=v.nextSibling;return C($=>{var m=x().lines,y=e(),D=o(),R=l(),T=x().heads,E=e(),M=o(),W=l();return m!==$.e&&Z(v,"d",$.e=m),y!==$.t&&Z(v,"stroke",$.t=y),D!==$.a&&Z(v,"stroke-width",$.a=D),R!==$.o&&Z(v,"stroke-opacity",$.o=R),T!==$.i&&Z(w,"d",$.i=T),E!==$.n&&Z(w,"stroke",$.n=E),M!==$.s&&Z(w,"stroke-width",$.s=M),W!==$.h&&Z(w,"stroke-opacity",$.h=W),$},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),f})()}var he=L("<div class=upper-header>"),ue=L("<div class=gantt-headers><div class=lower-header>"),fe=L("<div class=upper-text>"),xe=L('<div class=lower-text style="position:absolute;top:0;height:100%;display:flex;align-items:center;justify-content:center;font-size:12px;color:var(--g-header-text-color-secondary, #666);border-right:1px solid var(--g-grid-line-color, #e0e0e0);box-sizing:border-box">');function ve(i){const r=()=>i.upperHeaderHeight??45,a=()=>i.lowerHeaderHeight??30,e=()=>r()+a(),o=()=>i.gridWidth||1e3,l=()=>i.dateInfos||[],h=()=>i.startCol??0,g=()=>i.endCol??l().length,t=H(()=>{const f=Math.max(0,h()),v=Math.min(l().length,g()),w=[];for(let $=f;$<v;$++)w.push($);return w}),n=H(()=>{var R,T,E;const f=l(),v=Math.max(0,h()),w=Math.min(f.length,g());if(v>=w)return[];const $=[];let m=null,y=v;const D=(R=f[v])==null?void 0:R.upperText;if(D){let M=v;for(;M>0&&((T=f[M-1])==null?void 0:T.upperText)===D;)M--;y=M}for(let M=y;M<w;M++){const W=f[M];W.upperText&&W.upperText!==m&&(m!==null&&$.push({startIndex:y,endIndex:M-1,text:m}),m=W.upperText,y=M)}if(m!==null){let M=w;for(;M<f.length&&((E=f[M])==null?void 0:E.upperText)===m;)M++;$.push({startIndex:y,endIndex:M-1,text:m})}return $}),s={position:"sticky",top:0,left:0,"z-index":10,"background-color":"var(--g-header-bg-color, #fff)","border-bottom":"1px solid var(--g-grid-line-color, #e0e0e0)",display:"flex","flex-direction":"column","pointer-events":"none"},c={position:"relative","border-bottom":"1px solid var(--g-grid-line-color, #e0e0e0)"},d={position:"relative",display:"flex"},x={position:"absolute",top:0,height:"100%",display:"flex","align-items":"center","padding-left":"8px","font-size":"14px","font-weight":"500",color:"var(--g-header-text-color, #333)","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"};return(()=>{var f=ue(),v=f.firstChild;return b(f,_(ot,{get when(){return r()>0},get children(){var w=he();return b(w,_(Et,{get each(){return n()},children:$=>{const m=()=>l()[$().startIndex],y=()=>l()[$().endIndex+1]||null,D=()=>{var T;return((T=m())==null?void 0:T.x)??0},R=()=>{var E;return(((E=y())==null?void 0:E.x)??o())-D()};return(()=>{var T=fe();return b(T,()=>$().text),C(E=>ut(T,{...x,left:`${D()}px`,"max-width":`${R()}px`},E)),T})()}})),C($=>ut(w,{...c,height:`${r()}px`},$)),w}}),v),b(v,_(Et,{get each(){return t()},children:w=>{const $=()=>l()[w()];return(()=>{var m=xe();return b(m,()=>{var y;return(y=$())==null?void 0:y.lowerText}),C(y=>{var T,E;var D=`${((T=$())==null?void 0:T.x)??0}px`,R=`${((E=$())==null?void 0:E.width)??45}px`;return D!==y.e&&u(m,"left",y.e=D),R!==y.t&&u(m,"width",y.t=R),y},{e:void 0,t:void 0}),m})()}})),b(f,()=>i.sideHeader,null),C(w=>{var $={...s,width:`${o()}px`,height:`${e()}px`},m={...d,height:`${a()}px`};return w.e=ut(f,$,w.e),w.t=ut(v,m,w.t),w},{e:void 0,t:void 0}),f})()}var $e=L("<div style=position:absolute;border-radius:3px>"),we=L("<div style=position:absolute;border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden>"),lt=L("<div style=position:absolute;border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden><div style=position:absolute;left:0;top:0;width:6px;height:100%;cursor:ew-resize></div><div style=position:absolute;right:0;top:0;width:6px;height:100%;cursor:ew-resize>"),me=L("<div style=position:absolute;border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box><div style=position:absolute;left:0;top:0;width:6px;height:100%;cursor:ew-resize></div><div style=position:absolute;right:0;top:0;width:6px;height:100%;cursor:ew-resize>"),be=L("<div style=position:absolute;color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box>"),ye=L('<div style="position:absolute;border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;contain:layout style paint">'),pe=L("<div style=position:absolute;border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;will-change:transform>"),Se=L('<div style="position:absolute;border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;will-change:transform;contain:layout style paint">'),Xt=L("<div style=position:absolute;cursor:pointer;background:rgba(128,128,128,0.3);color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box>"),He=L('<div style="position:absolute;cursor:default;background:rgba(59,130,246,0.3);border:1px solid rgba(59,130,246,0.6);border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box">'),Me=L('<div style="position:absolute;background:rgba(59,130,246,0.3);border:1px solid rgba(59,130,246,0.6);border-radius:3px;color:#fff;font-size:11px;padding-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box">'),De=L('<div style="width:120px;flex-shrink:0;background:#222;border-right:1px solid #444;overflow:hidden"><div></div><div>'),Ie=L("<div style=position:sticky;top:0;z-index:10;--g-header-bg-color:#1a1a1a;--g-header-text-color-secondary:#999>"),Bt=L("<svg style=position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none>"),Te=L('<div style=height:100%;display:flex;flex-direction:column><div style="padding:8px 16px;background:#2a2a2a;display:flex;gap:16px;align-items:center;flex-wrap:wrap"><span style=font-weight:bold>PerfIsolate</span><span>Bar: </span><span>Features: </span><span>Visible: </span><span style=color:#888;font-size:11px>?bar=minimal|text|handles|reactive|drag|events|full &amp; grid=1 &amp; headers=1 &amp; resources=1</span></div><div style=flex:1;display:flex;overflow:hidden><div style=flex:1;overflow:auto;position:relative><div style="position:relative;background:var(--g-grid-bg-color, #1a1a1a)">');const Q=24,Y=26,tt=4,Ee=7,Lt=2,_t=200,pt=yt.tasks.map(i=>({...i,_start:Ct.parse(i.start),_end:Ct.parse(i.end)})),Wt=new Date(Math.min(...pt.map(i=>i._start.getTime()))),mt=Wt.getTime(),Pt=new Set,xt=[];for(const i of yt.tasks)Pt.has(i.resource)||(Pt.add(i.resource),xt.push(i.resource));const Ce=Object.fromEntries(xt.map((i,r)=>[i,r])),dt=xt.length,ke=Math.max(...pt.map(i=>i._end.getTime())),Re=(ke-mt)/(1e3*60*60),st=Math.ceil(Re/24)+1,wt=dt*(Q+tt),vt=(()=>{const i={};return pt.forEach((r,a)=>{const e=Ce[r.resource]??0,o=(r._start.getTime()-mt)/(1e3*60*60),l=(r._end.getTime()-mt)/(1e3*60*60);i[r.id]={...r,locked:a%7===0,progress:r.progress||0,row:e,startHours:o,durationHours:l-o,$bar:{y:e*(Q+tt)+(Q+tt-Y)/2,height:Y}}}),i})();(()=>{const i={};for(let r=0;r<dt;r++)i[r]=[];return Object.entries(vt).forEach(([r,a])=>{i[a.row].push(r)}),i})();const Be=(()=>{const i={};return Object.entries(vt).forEach(([r,a])=>{const e=a.row,o=Math.floor(a.startHours/24),l=Math.floor((a.startHours+a.durationHours)/24);i[e]||(i[e]={});for(let h=o;h<=l;h++)(i[e][h]=i[e][h]||[]).push(r)}),i})(),bt=(()=>{const i=[];for(const r of yt.tasks){if(!r.dependencies)continue;const a=typeof r.dependencies=="string"?r.dependencies:r.dependencies.id,e=typeof r.dependencies=="string"?"FS":r.dependencies.type||"FS";i.push({from:a,to:r.id,type:e})}return i})();console.log(`PerfIsolate: ${Object.keys(vt).length} tasks, ${dt} rows, ${st} days, ${bt.length} deps`);function Ot(i){const r=i.task,a=r.$bar;return(()=>{var e=$e();return C(o=>{var l=`translate(${a.x}px, ${a.y}px)`,h=`${a.width}px`,g=`${a.height}px`,t=r.color;return l!==o.e&&u(e,"transform",o.e=l),h!==o.t&&u(e,"width",o.t=h),g!==o.a&&u(e,"height",o.a=g),t!==o.o&&u(e,"background",o.o=t),o},{e:void 0,t:void 0,a:void 0,o:void 0}),e})()}function Le(i){const r=i.task,a=r.$bar;return(()=>{var e=we();return b(e,()=>r.name),C(o=>{var l=`translate(${a.x}px, ${a.y}px)`,h=`${a.width}px`,g=`${a.height}px`,t=r.color,n=`${a.height}px`;return l!==o.e&&u(e,"transform",o.e=l),h!==o.t&&u(e,"width",o.t=h),g!==o.a&&u(e,"height",o.a=g),t!==o.o&&u(e,"background",o.o=t),n!==o.i&&u(e,"line-height",o.i=n),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),e})()}function _e(i){const r=i.task,a=r.$bar;return(()=>{var e=lt(),o=e.firstChild;return o.nextSibling,b(e,()=>r.name,o),C(l=>{var h=`translate(${a.x}px, ${a.y}px)`,g=`${a.width}px`,t=`${a.height}px`,n=r.color,s=`${a.height}px`;return h!==l.e&&u(e,"transform",l.e=h),g!==l.t&&u(e,"width",l.t=g),t!==l.a&&u(e,"height",l.a=t),n!==l.o&&u(e,"background",l.o=n),s!==l.i&&u(e,"line-height",l.i=s),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),e})()}function Pe(i){const r=()=>i.task,a=()=>r().$bar;return(()=>{var e=lt(),o=e.firstChild;return o.nextSibling,b(e,()=>r().name,o),C(l=>{var h=`translate(${a().x}px, ${a().y}px)`,g=`${a().width}px`,t=`${a().height}px`,n=r().color,s=`${a().height}px`;return h!==l.e&&u(e,"transform",l.e=h),g!==l.t&&u(e,"width",l.t=g),t!==l.a&&u(e,"height",l.a=t),n!==l.o&&u(e,"background",l.o=n),s!==l.i&&u(e,"line-height",l.i=s),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),e})()}function Xe(i){const r=()=>i.task,a=()=>r().$bar,{isDragging:e,startDrag:o}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}});return(()=>{var l=lt(),h=l.firstChild,g=h.nextSibling;return l.$$mousedown=t=>o(t,"dragging_bar",{taskId:r().id}),b(l,()=>r().name,h),h.$$mousedown=t=>{t.stopPropagation(),o(t,"dragging_left",{taskId:r().id})},g.$$mousedown=t=>{t.stopPropagation(),o(t,"dragging_right",{taskId:r().id})},C(t=>{var n=`translate(${a().x}px, ${a().y}px)`,s=`${a().width}px`,c=`${a().height}px`,d=e()?"grabbing":"grab",x=r().color,f=`${a().height}px`;return n!==t.e&&u(l,"transform",t.e=n),s!==t.t&&u(l,"width",t.t=s),c!==t.a&&u(l,"height",t.a=c),d!==t.o&&u(l,"cursor",t.o=d),x!==t.i&&u(l,"background",t.i=x),f!==t.n&&u(l,"line-height",t.n=f),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),l})()}function We(i){const r=it(),a=()=>i.task,e=()=>a().$bar,{isDragging:o,startDrag:l}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}});return(()=>{var h=lt(),g=h.firstChild,t=g.nextSibling;return h.$$mousedown=n=>l(n,"dragging_bar",{taskId:a().id}),h.$$click=n=>{var s;return(s=r.onTaskClick)==null?void 0:s.call(r,a().id,n)},h.addEventListener("mouseleave",()=>{var n;return(n=r.onHoverEnd)==null?void 0:n.call(r)}),h.addEventListener("mouseenter",n=>{var s;return(s=r.onHover)==null?void 0:s.call(r,a().id,n.clientX,n.clientY)}),b(h,()=>a().name,g),g.$$mousedown=n=>{n.stopPropagation(),l(n,"dragging_left",{taskId:a().id})},t.$$mousedown=n=>{n.stopPropagation(),l(n,"dragging_right",{taskId:a().id})},C(n=>{var s=`translate(${e().x}px, ${e().y}px)`,c=`${e().width}px`,d=`${e().height}px`,x=o()?"grabbing":"grab",f=a().color,v=`${e().height}px`;return s!==n.e&&u(h,"transform",n.e=s),c!==n.t&&u(h,"width",n.t=c),d!==n.a&&u(h,"height",n.a=d),x!==n.o&&u(h,"cursor",n.o=x),f!==n.i&&u(h,"background",n.i=f),v!==n.n&&u(h,"line-height",n.n=v),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),h})()}function Oe(i){const r=it(),a=()=>i.task,e=()=>a().$bar,o=()=>a().progress??0,l=()=>e().width*o()/100,h=()=>{const n=a().color||"#3b82f6",s=l();return`linear-gradient(to right, ${n}80 0px, ${n}80 ${s}px, ${n}40 ${s}px, ${n}40 100%)`},{isDragging:g,startDrag:t}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}});return(()=>{var n=lt(),s=n.firstChild,c=s.nextSibling;return n.$$mousedown=d=>t(d,"dragging_bar",{taskId:a().id}),n.$$click=d=>{var x;return(x=r.onTaskClick)==null?void 0:x.call(r,a().id,d)},n.addEventListener("mouseleave",()=>{var d;return(d=r.onHoverEnd)==null?void 0:d.call(r)}),n.addEventListener("mouseenter",d=>{var x;return(x=r.onHover)==null?void 0:x.call(r,a().id,d.clientX,d.clientY)}),b(n,()=>a().name,s),s.$$mousedown=d=>{d.stopPropagation(),t(d,"dragging_left",{taskId:a().id})},c.$$mousedown=d=>{d.stopPropagation(),t(d,"dragging_right",{taskId:a().id})},C(d=>{var x=`translate(${e().x}px, ${e().y}px)`,f=`${e().width}px`,v=`${e().height}px`,w=g()?"grabbing":"grab",$=h(),m=`${e().height}px`;return x!==d.e&&u(n,"transform",d.e=x),f!==d.t&&u(n,"width",d.t=f),v!==d.a&&u(n,"height",d.a=v),w!==d.o&&u(n,"cursor",d.o=w),$!==d.i&&u(n,"background",d.i=$),m!==d.n&&u(n,"line-height",d.n=m),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),n})()}function Ae(i){const r=it(),a=()=>typeof i.task=="function"?i.task():i.task,e=H(()=>{const g=a(),t=g==null?void 0:g.$bar,n=(g==null?void 0:g.progress)??0,s=(t==null?void 0:t.width)??40;return{colorBg:(g==null?void 0:g.color_bg)??"rgba(59,130,246,0.15)",colorFill:(g==null?void 0:g.color_fill)??"rgba(59,130,246,0.3)",locked:(g==null?void 0:g.locked)??!1,name:(g==null?void 0:g.name)??"",id:(g==null?void 0:g.id)??"",x:(t==null?void 0:t.x)??0,y:(t==null?void 0:t.y)??0,width:s,height:(t==null?void 0:t.height)??Y,pw:s*n/100}}),o=()=>{const g=e(),t=g.pw;return`linear-gradient(to right, ${g.colorFill} 0px, ${g.colorFill} ${t}px, ${g.colorBg} ${t}px, ${g.colorBg} 100%)${g.locked?", repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(0,0,0,0.15) 3px, rgba(0,0,0,0.15) 6px)":""}`},{isDragging:l,startDrag:h}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}});return(()=>{var g=me(),t=g.firstChild,n=t.nextSibling;return g.$$mousedown=s=>h(s,"dragging_bar",{taskId:e().id}),g.$$click=s=>{var c;return(c=r.onTaskClick)==null?void 0:c.call(r,e().id,s)},g.addEventListener("mouseleave",()=>{var s;return(s=r.onHoverEnd)==null?void 0:s.call(r)}),g.addEventListener("mouseenter",s=>{var c;return(c=r.onHover)==null?void 0:c.call(r,e().id,s.clientX,s.clientY)}),b(g,()=>e().name,t),t.$$mousedown=s=>{s.stopPropagation(),h(s,"dragging_left",{taskId:e().id})},n.$$mousedown=s=>{s.stopPropagation(),h(s,"dragging_right",{taskId:e().id})},C(s=>{var c=`translate(${e().x}px, ${e().y}px)`,d=`${e().width}px`,x=`${e().height}px`,f=l()?"grabbing":"grab",v=o(),w=`${e().height}px`;return c!==s.e&&u(g,"transform",s.e=c),d!==s.t&&u(g,"width",s.t=d),x!==s.a&&u(g,"height",s.a=x),f!==s.o&&u(g,"cursor",s.o=f),v!==s.i&&u(g,"background",s.i=v),w!==s.n&&u(g,"line-height",s.n=w),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),g})()}function Fe(i){const r=it(),a=()=>typeof i.task=="function"?i.task():i.task,e=H(()=>{const t=a(),n=t==null?void 0:t.$bar,s=(t==null?void 0:t.progress)??0,c=i.hourWidth||7,d=((t==null?void 0:t.startHours)??0)*c,x=Math.max(((t==null?void 0:t.durationHours)??1)*c,6);return{colorBg:"rgba(128,128,128,0.15)",colorFill:"rgba(128,128,128,0.4)",locked:(t==null?void 0:t.locked)??!1,name:(t==null?void 0:t.name)??"",id:(t==null?void 0:t.id)??"",x:d,y:(n==null?void 0:n.y)??0,width:x,height:(n==null?void 0:n.height)??Y,pw:x*s/100}}),o=()=>{const t=e(),n=t.pw;return`linear-gradient(to right, ${t.colorFill} 0px, ${t.colorFill} ${n}px, ${t.colorBg} ${n}px, ${t.colorBg} 100%)${t.locked?", repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(0,0,0,0.15) 3px, rgba(0,0,0,0.15) 6px)":""}`},{isDragging:l,startDrag:h}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}}),g=t=>{const n=t.currentTarget.getBoundingClientRect(),s=t.clientX-n.left,c=n.width;s<=6?h(t,"dragging_left",{taskId:e().id}):s>=c-6?h(t,"dragging_right",{taskId:e().id}):h(t,"dragging_bar",{taskId:e().id})};return(()=>{var t=be();return t.$$mousedown=g,t.$$click=n=>{var s;return(s=r.onTaskClick)==null?void 0:s.call(r,e().id,n)},t.addEventListener("mouseleave",()=>{var n;return(n=r.onHoverEnd)==null?void 0:n.call(r)}),t.addEventListener("mouseenter",n=>{var s;return(s=r.onHover)==null?void 0:s.call(r,e().id,n.clientX,n.clientY)}),b(t,()=>e().name),C(n=>{var s=`translate(${e().x}px, ${e().y}px)`,c=`${e().width}px`,d=`${e().height}px`,x=l()?"grabbing":"grab",f=o(),v=`${e().height}px`;return s!==n.e&&u(t,"transform",n.e=s),c!==n.t&&u(t,"width",n.t=c),d!==n.a&&u(t,"height",n.a=d),x!==n.o&&u(t,"cursor",n.o=x),f!==n.i&&u(t,"background",n.i=f),v!==n.n&&u(t,"line-height",n.n=v),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),t})()}function ze(i){const r=it(),a=()=>typeof i.task=="function"?i.task():i.task,e=H(()=>{const t=a(),n=t==null?void 0:t.$bar,s=(t==null?void 0:t.progress)??0,c=i.hourWidth||7,d=((t==null?void 0:t.startHours)??0)*c,x=Math.max(((t==null?void 0:t.durationHours)??1)*c,6);return{colorBg:(t==null?void 0:t.color_bg)??"rgba(59,130,246,0.15)",colorFill:(t==null?void 0:t.color_fill)??"rgba(59,130,246,0.3)",locked:(t==null?void 0:t.locked)??!1,name:(t==null?void 0:t.name)??"",id:(t==null?void 0:t.id)??"",x:d,y:(n==null?void 0:n.y)??0,width:x,height:(n==null?void 0:n.height)??Y,pw:x*s/100}}),o=()=>{const t=e(),n=t.pw;return`linear-gradient(to right, ${t.colorFill} 0px, ${t.colorFill} ${n}px, ${t.colorBg} ${n}px, ${t.colorBg} 100%)${t.locked?", repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(0,0,0,0.15) 3px, rgba(0,0,0,0.15) 6px)":""}`},{isDragging:l,startDrag:h}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}}),g=t=>{const n=t.currentTarget.getBoundingClientRect(),s=t.clientX-n.left,c=n.width;s<=6?h(t,"dragging_left",{taskId:e().id}):s>=c-6?h(t,"dragging_right",{taskId:e().id}):h(t,"dragging_bar",{taskId:e().id})};return(()=>{var t=ye();return t.$$mousedown=g,t.$$click=n=>{var s;return(s=r.onTaskClick)==null?void 0:s.call(r,e().id,n)},t.addEventListener("mouseleave",()=>{var n;return(n=r.onHoverEnd)==null?void 0:n.call(r)}),t.addEventListener("mouseenter",n=>{var s;return(s=r.onHover)==null?void 0:s.call(r,e().id,n.clientX,n.clientY)}),b(t,()=>e().name),C(n=>{var s=`translate(${e().x}px, ${e().y}px)`,c=`${e().width}px`,d=`${e().height}px`,x=l()?"grabbing":"grab",f=o(),v=`${e().height}px`;return s!==n.e&&u(t,"transform",n.e=s),c!==n.t&&u(t,"width",n.t=c),d!==n.a&&u(t,"height",n.a=d),x!==n.o&&u(t,"cursor",n.o=x),f!==n.i&&u(t,"background",n.i=f),v!==n.n&&u(t,"line-height",n.n=v),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),t})()}function Ve(i){const r=it(),a=()=>typeof i.task=="function"?i.task():i.task,e=H(()=>{const t=a(),n=t==null?void 0:t.$bar,s=(t==null?void 0:t.progress)??0,c=i.hourWidth||7,d=((t==null?void 0:t.startHours)??0)*c,x=Math.max(((t==null?void 0:t.durationHours)??1)*c,6);return{colorBg:(t==null?void 0:t.color_bg)??"rgba(59,130,246,0.15)",colorFill:(t==null?void 0:t.color_fill)??"rgba(59,130,246,0.3)",locked:(t==null?void 0:t.locked)??!1,name:(t==null?void 0:t.name)??"",id:(t==null?void 0:t.id)??"",x:d,y:(n==null?void 0:n.y)??0,width:x,height:(n==null?void 0:n.height)??Y,pw:x*s/100}}),o=()=>{const t=e(),n=t.pw;return`linear-gradient(to right, ${t.colorFill} 0px, ${t.colorFill} ${n}px, ${t.colorBg} ${n}px, ${t.colorBg} 100%)${t.locked?", repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(0,0,0,0.15) 3px, rgba(0,0,0,0.15) 6px)":""}`},{isDragging:l,startDrag:h}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}}),g=t=>{const n=t.currentTarget.getBoundingClientRect(),s=t.clientX-n.left,c=n.width;s<=6?h(t,"dragging_left",{taskId:e().id}):s>=c-6?h(t,"dragging_right",{taskId:e().id}):h(t,"dragging_bar",{taskId:e().id})};return(()=>{var t=pe();return t.$$mousedown=g,t.$$click=n=>{var s;return(s=r.onTaskClick)==null?void 0:s.call(r,e().id,n)},t.addEventListener("mouseleave",()=>{var n;return(n=r.onHoverEnd)==null?void 0:n.call(r)}),t.addEventListener("mouseenter",n=>{var s;return(s=r.onHover)==null?void 0:s.call(r,e().id,n.clientX,n.clientY)}),b(t,()=>e().name),C(n=>{var s=`translate(${e().x}px, ${e().y}px)`,c=`${e().width}px`,d=`${e().height}px`,x=l()?"grabbing":"grab",f=o(),v=`${e().height}px`;return s!==n.e&&u(t,"transform",n.e=s),c!==n.t&&u(t,"width",n.t=c),d!==n.a&&u(t,"height",n.a=d),x!==n.o&&u(t,"cursor",n.o=x),f!==n.i&&u(t,"background",n.i=f),v!==n.n&&u(t,"line-height",n.n=v),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),t})()}function Ye(i){const r=it(),a=()=>typeof i.task=="function"?i.task():i.task,e=H(()=>{const t=a(),n=t==null?void 0:t.$bar,s=(t==null?void 0:t.progress)??0,c=i.hourWidth||7,d=((t==null?void 0:t.startHours)??0)*c,x=Math.max(((t==null?void 0:t.durationHours)??1)*c,6);return{colorBg:(t==null?void 0:t.color_bg)??"rgba(59,130,246,0.15)",colorFill:(t==null?void 0:t.color_fill)??"rgba(59,130,246,0.3)",locked:(t==null?void 0:t.locked)??!1,name:(t==null?void 0:t.name)??"",id:(t==null?void 0:t.id)??"",x:d,y:(n==null?void 0:n.y)??0,width:x,height:(n==null?void 0:n.height)??Y,pw:x*s/100}}),o=()=>{const t=e(),n=t.pw;return`linear-gradient(to right, ${t.colorFill} 0px, ${t.colorFill} ${n}px, ${t.colorBg} ${n}px, ${t.colorBg} 100%)${t.locked?", repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(0,0,0,0.15) 3px, rgba(0,0,0,0.15) 6px)":""}`},{isDragging:l,startDrag:h}=N({onDragStart:()=>{},onDragMove:()=>{},onDragEnd:()=>{}}),g=t=>{const n=t.currentTarget.getBoundingClientRect(),s=t.clientX-n.left,c=n.width;s<=6?h(t,"dragging_left",{taskId:e().id}):s>=c-6?h(t,"dragging_right",{taskId:e().id}):h(t,"dragging_bar",{taskId:e().id})};return(()=>{var t=Se();return t.$$mousedown=g,t.$$click=n=>{var s;return(s=r.onTaskClick)==null?void 0:s.call(r,e().id,n)},t.addEventListener("mouseleave",()=>{var n;return(n=r.onHoverEnd)==null?void 0:n.call(r)}),t.addEventListener("mouseenter",n=>{var s;return(s=r.onHover)==null?void 0:s.call(r,e().id,n.clientX,n.clientY)}),b(t,()=>e().name),C(n=>{var s=`translate(${e().x}px, ${e().y}px)`,c=`${e().width}px`,d=`${e().height}px`,x=l()?"grabbing":"grab",f=o(),v=`${e().height}px`;return s!==n.e&&u(t,"transform",n.e=s),c!==n.t&&u(t,"width",n.t=c),d!==n.a&&u(t,"height",n.a=d),x!==n.o&&u(t,"cursor",n.o=x),f!==n.i&&u(t,"background",n.i=f),v!==n.n&&u(t,"line-height",n.n=v),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),t})()}function Ge(i){const r=()=>typeof i.task=="function"?i.task():i.task,a=H(()=>{const e=r(),o=e==null?void 0:e.$bar,l=i.hourWidth||7,h=((e==null?void 0:e.startHours)??0)*l,g=Math.max(((e==null?void 0:e.durationHours)??1)*l,6);return{id:(e==null?void 0:e.id)??"",name:(e==null?void 0:e.name)??"",x:h,y:(o==null?void 0:o.y)??0,width:g,height:(o==null?void 0:o.height)??Y}});return(()=>{var e=Xt();return e.addEventListener("mouseleave",()=>{var o;return(o=i.setPopupState)==null?void 0:o.call(i,{visible:!1,taskId:null,x:0,y:0})}),e.addEventListener("mouseenter",o=>{var l;return(l=i.setPopupState)==null?void 0:l.call(i,{visible:!0,taskId:a().id,x:o.clientX,y:o.clientY})}),b(e,()=>a().name),C(o=>{var l=`translate(${a().x}px, ${a().y}px)`,h=`${a().width}px`,g=`${a().height}px`,t=`${a().height}px`;return l!==o.e&&u(e,"transform",o.e=l),h!==o.t&&u(e,"width",o.t=h),g!==o.a&&u(e,"height",o.a=g),t!==o.o&&u(e,"line-height",o.o=t),o},{e:void 0,t:void 0,a:void 0,o:void 0}),e})()}function je(i){const r=()=>typeof i.task=="function"?i.task():i.task,a=H(()=>{const e=r(),o=e==null?void 0:e.$bar,l=i.hourWidth||7,h=((e==null?void 0:e.startHours)??0)*l,g=Math.max(((e==null?void 0:e.durationHours)??1)*l,6);return{id:(e==null?void 0:e.id)??"",name:(e==null?void 0:e.name)??"",x:h,y:(o==null?void 0:o.y)??0,width:g,height:(o==null?void 0:o.height)??Y}});return(()=>{var e=Xt();return e.$$click=()=>{var o;return(o=i.setModalState)==null?void 0:o.call(i,{visible:!0,taskId:a().id})},b(e,()=>a().name),C(o=>{var l=`translate(${a().x}px, ${a().y}px)`,h=`${a().width}px`,g=`${a().height}px`,t=`${a().height}px`;return l!==o.e&&u(e,"transform",o.e=l),h!==o.t&&u(e,"width",o.t=h),g!==o.a&&u(e,"height",o.a=g),t!==o.o&&u(e,"line-height",o.o=t),o},{e:void 0,t:void 0,a:void 0,o:void 0}),e})()}function Ue(i){const r=()=>typeof i.task=="function"?i.task():i.task,a=H(()=>{const e=r(),o=e==null?void 0:e.$bar,l=i.hourWidth||7,h=(o==null?void 0:o.x)??((e==null?void 0:e.startHours)??0)*l,g=(o==null?void 0:o.width)??Math.max(((e==null?void 0:e.durationHours)??1)*l,6);return{id:(e==null?void 0:e.id)??"",name:(e==null?void 0:e.name)??"",x:h,y:(o==null?void 0:o.y)??0,width:g,height:(o==null?void 0:o.height)??Y}});return(()=>{var e=He();return b(e,()=>a().name),C(o=>{var l=`translate(${a().x}px, ${a().y}px)`,h=`${a().width}px`,g=`${a().height}px`,t=`${a().height}px`;return l!==o.e&&u(e,"transform",o.e=l),h!==o.t&&u(e,"width",o.t=h),g!==o.a&&u(e,"height",o.a=g),t!==o.o&&u(e,"line-height",o.o=t),o},{e:void 0,t:void 0,a:void 0,o:void 0}),e})()}function Ne(i){const r=()=>typeof i.task=="function"?i.task():i.task,[a,e]=J("move"),o=H(()=>{const c=r(),d=c==null?void 0:c.$bar,x=i.hourWidth||7,f=(d==null?void 0:d.x)??((c==null?void 0:c.startHours)??0)*x,v=(d==null?void 0:d.width)??Math.max(((c==null?void 0:c.durationHours)??1)*x,6);return{id:(c==null?void 0:c.id)??"",name:(c==null?void 0:c.name)??"",x:f,y:(d==null?void 0:d.y)??0,width:v,height:(d==null?void 0:d.height)??Y}}),{isDragging:l,dragState:h,startDrag:g}=N({onDragStart:(c,d)=>{c.originalX=o().x,c.originalWidth=o().width},onDragMove:(c,d,x)=>{var w,$,m;const v=i.hourWidth||7;if(x==="dragging_bar"){const y=d.originalX+c.deltaX;(w=i.updateBarPosition)==null||w.call(i,o().id,{x:y})}else if(x==="dragging_left"){let y=d.originalX+c.deltaX,D=d.originalWidth-c.deltaX;D<v&&(D=v,y=d.originalX+d.originalWidth-v),($=i.updateBarPosition)==null||$.call(i,o().id,{x:y,width:D})}else if(x==="dragging_right"){let y=Math.max(v,d.originalWidth+c.deltaX);(m=i.updateBarPosition)==null||m.call(i,o().id,{width:y})}},onDragEnd:()=>{}}),t=c=>{if(l())return;const d=c.currentTarget.getBoundingClientRect(),x=c.clientX-d.left;x<=6?e("left"):x>=d.width-6?e("right"):e("move")},n=c=>{const d=c.currentTarget.getBoundingClientRect(),x=c.clientX-d.left;x<=6?g(c,"dragging_left",{}):x>=d.width-6?g(c,"dragging_right",{}):g(c,"dragging_bar",{})},s=()=>{const c=h();if(c==="dragging_left"||c==="dragging_right")return"ew-resize";if(c==="dragging_bar")return"grabbing";const d=a();return d==="left"||d==="right"?"ew-resize":"grab"};return(()=>{var c=Me();return c.$$mousemove=t,c.$$mousedown=n,b(c,()=>o().name),C(d=>{var x=`translate(${o().x}px, ${o().y}px)`,f=`${o().width}px`,v=`${o().height}px`,w=s(),$=`${o().height}px`;return x!==d.e&&u(c,"transform",d.e=x),f!==d.t&&u(c,"width",d.t=f),v!==d.a&&u(c,"height",d.a=v),w!==d.o&&u(c,"cursor",d.o=w),$!==d.i&&u(c,"line-height",d.i=$),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),c})()}const qe={minimal:Ot,text:Le,handles:_e,reactive:Pe,drag:Xe,events:We,full:Oe,experiments:Ae,nochildren:Fe,contained:ze,willchange:Ve,combined:Ye,hoverpopup:Ge,clickmodal:je,dragbase:Ue,dragfunc:Ne};function Ke(){const[i,r]=jt(vt),a=(p,S)=>{r(Qt(I=>{var B;(B=I[p])!=null&&B.$bar&&Object.assign(I[p].$bar,S)}))},e=new URLSearchParams(window.location.search),o=e.get("bar")||"minimal";e.get("virt");const l=e.get("test"),h=e.get("grid")==="1",g=e.get("headers")==="1",t=e.get("resources")==="1",n=e.get("arrows")==="1",s=e.get("context")==="1"||["events","full"].includes(o),c=e.get("headerOpt")==="1",d=qe[o]||Ot,x=xt.map((p,S)=>({id:p,name:p,type:"resource",displayIndex:S})),f={displayResources:()=>x},v={barHeight:()=>Q,padding:()=>tt},[w,$]=J(1200),[m,y]=J(800),[D,R]=J(0),[T,E]=J(0),[M,W]=J({visible:!1,taskId:null,x:0,y:0}),[j,P]=J({visible:!1,taskId:null}),k=120,A=H(()=>w()-(t?k:0)),O=H(()=>A()/Ee),ct=H(()=>O()/24),rt=H(()=>st*O()),At={tasks:i,rowHeight:Q+tt,getBarPosition:p=>{const S=i[p];if(!S)return null;const I=ct();return{x:S.startHours*I,y:S.$bar.y,width:S.durationHours*I,height:S.$bar.height}}},et=H(()=>{const p=T(),S=Math.floor(p/(Q+tt)),I=Math.ceil((p+m())/(Q+tt))+Lt;return{start:Math.max(0,S-Lt),end:Math.min(I,dt)}}),z=H(()=>{const p=D(),S=O(),I=Math.floor((p-_t)/S),B=Math.ceil((p+w()+_t)/S);return{start:Math.max(0,I),end:Math.min(B,st)}}),[G]=J(e.get("memos")==="1"?"active":"off"),St=H(()=>{const p=z(),S=et(),I={},B=[];for(let V=S.start;V<S.end;V++){const q=Be[V]||{};for(let U=p.start;U<=p.end;U++)for(const F of q[U]||[])I[F]||(I[F]=!0,B.push(i[F]))}return B});H(()=>G()!=="mode1"?[]:z()),H(()=>G()!=="mode2"?[]:z()),H(()=>G()!=="mode3"?[]:z()),H(()=>G()!=="mode4"?[]:z()),H(()=>G()!=="mode5"?[]:z()),H(()=>G()!=="mode6"?[]:z()),H(()=>G()!=="mode7"?[]:z()),H(()=>G()!=="mode8"?[]:z()),H(()=>G()!=="mode9"?[]:z()),H(()=>G()!=="mode10"?[]:z());let gt,ht;Ut(()=>{const p=()=>{gt&&($(gt.clientWidth),y(gt.clientHeight-40))};if(p(),window.addEventListener("resize",p),te(()=>window.removeEventListener("resize",p)),l&&ht){let S=0,I=0,B=1,V=1;const q=()=>{const U=rt()-w(),F=wt-m();(l==="horizontal"||l==="both")&&(S+=B*150,S>=U?(B=-1,S=U):S<=0&&(B=1,S=0),ht.scrollLeft=S),(l==="vertical"||l==="both")&&(I+=V*100,I>=F?(V=-1,I=F):I<=0&&(V=1,I=0),ht.scrollTop=I),requestAnimationFrame(q)};requestAnimationFrame(q)}});const Ft=p=>{R(p.target.scrollLeft),E(p.target.scrollTop)},Ht=H(()=>{const p=D(),S=O(),I=Math.floor(p/S),B=Math.ceil((p+w())/S)+2;return{start:Math.max(0,I-1),end:Math.min(B,st)}}),zt=H(()=>{const p=O(),S=[];for(let I=0;I<st;I++){const B=new Date(Wt.getTime()+I*24*60*60*1e3);S.push({x:I*p,width:p,upperText:"",lowerText:B.getUTCDate().toString(),isThickLine:B.getUTCDay()===1})}return S}),Vt=[h&&"grid",g&&(c?"headers(opt)":"headers"),t&&"resources",n&&`arrows(${bt.length})`,s&&"context"].filter(Boolean).join("+")||"none",Yt=c?ve:qt,Mt=(()=>{var p=Te(),S=p.firstChild,I=S.firstChild,B=I.nextSibling;B.firstChild;var V=B.nextSibling;V.firstChild;var q=V.nextSibling;q.firstChild,q.nextSibling;var U=S.nextSibling,F=U.firstChild,K=F.firstChild;return kt(X=>gt=X,p),b(B,o,null),b(V,Vt,null),b(q,()=>St().length,null),b(U,_(ot,{when:t,get children(){var X=De(),Dt=X.firstChild,It=Dt.nextSibling;return u(Dt,"height",g?"30px":"0"),b(It,_(Nt,{resourceStore:f,ganttConfig:v,get startRow(){return et().start},get endRow(){return et().end}})),C(Ze=>u(It,"transform",`translateY(-${T()}px)`)),X}}),F),F.addEventListener("scroll",Ft),kt(X=>ht=X,F),b(F,_(ot,{when:g,get children(){var X=Ie();return b(X,_(Yt,{get dateInfos(){return zt()},get gridWidth(){return rt()},get columnWidth(){return O()},get startCol(){return Ht().start},get endCol(){return Ht().end},upperHeaderHeight:0})),X}}),K),u(K,"height",`${wt}px`),b(K,_(ot,{when:h,get children(){var X=Bt();return b(X,_(Kt,{get width(){return rt()},height:wt,get columnWidth(){return O()},barHeight:Q,padding:tt,taskCount:dt,get startRow(){return et().start},get endRow(){return et().end},lines:"both",backgroundColor:"#1a1a1a",lineColor:"#555",thickLineColor:"#666"})),X}}),null),b(K,_(ot,{when:n,get children(){var X=Bt();return b(X,_(ge,{relationships:bt,taskStore:At,get startRow(){return et().start},get endRow(){return et().end},get startX(){return D()-200},get endX(){return D()+A()+200},arrowConfig:{stroke:"#888",strokeWidth:1.2,strokeOpacity:.8,headSize:4,curveRadius:4}})),X}}),null),b(K,_(Zt,{get each(){return St()},children:X=>_(d,{task:X,get hourWidth(){return ct()},setPopupState:W,setModalState:P,updateBarPosition:a})}),null),b(K,_(ot,{get when(){return M().visible},get children(){return _(oe,{visible:()=>M().visible,position:()=>({x:M().x,y:M().y}),task:()=>i[M().taskId],barPosition:()=>null})}}),null),b(K,_(ot,{get when(){return j().visible},get children(){return _(ne,{visible:()=>j().visible,task:()=>i[j().taskId],barPosition:()=>null,relationships:()=>[],onClose:()=>P({visible:!1,taskId:null})})}}),null),C(X=>u(K,"width",`${rt()}px`)),p})();return s?_(Jt,{children:Mt}):Mt}Gt(["mousedown","click","mousemove"]);ee(()=>_(Ke,{}),document.getElementById("app"));
