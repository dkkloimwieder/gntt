import{c as s,q as Y,t as F,i as a,g as I,y as J,j as w,o as K,B as u}from"./calendar-Ds9A9IRk.js";var N=F('<div class=gantt-container style=display:grid;overflow:hidden;position:relative><div class=resource-header style="grid-row:1;grid-column:1;display:flex;align-items:center;justify-content:center;background-color:var(--g-header-bg-color, #fff);border-right:1px solid var(--g-grid-line-color, #e0e0e0);border-bottom:1px solid var(--g-grid-line-color, #e0e0e0);font-weight:600;font-size:12px;color:var(--g-header-text-color, #333);z-index:20"></div><div class=date-headers-wrapper style="grid-row:1;grid-column:2;overflow:hidden;background-color:var(--g-header-bg-color, #fff);border-bottom:1px solid var(--g-grid-line-color, #e0e0e0);z-index:10"></div><div class=resource-body-wrapper style="grid-row:2;grid-column:1;overflow:hidden;background-color:var(--g-resource-bg, #fff);border-right:1px solid var(--g-grid-line-color, #e0e0e0);z-index:9"></div><div class=gantt-scroll-area style=grid-row:2;grid-column:2;overflow:auto><div class=gantt-content style=position:relative><svg class=gantt width=100% height=100% style=display:block;position:absolute;top:0;left:0></svg><div class=gantt-bars-layer style=position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none>');const U=100;typeof window<"u"&&(window.__ganttScrollDebug={domSync:0,signalUpdate:0,total:0,worstTotal:0,callCount:0});function Z(e){let n,b,c,d;const[y,S]=s(0),[x,C]=s(0),[$,H]=s(0),[T,j]=s(0),[B]=s({domSync:0,signalUpdate:0,total:0,worstTotal:0}),G=()=>e.resourceColumnWidth||60,M=()=>e.headerHeight?e.headerHeight:e.ganttConfig?.headerHeight?e.ganttConfig.headerHeight():60;let g=0,m=null,L=0,R=0;const V=t=>{const{scrollLeft:r,scrollTop:o}=t.target;c&&(c.scrollLeft=r),d&&(d.scrollTop=o),L=r,R=o;const l=performance.now();l-g>=U?(g=l,S(r),C(o)):m||(m=setTimeout(()=>{m=null,g=performance.now(),S(L),C(R)},U-(l-g))),e.onScroll?.(r,o)},q=(t,r=!0)=>{n&&(r?n.scrollTo({left:t,behavior:"smooth"}):n.scrollLeft=t)};Y(()=>{if(n){H(n.clientWidth);const t=new ResizeObserver(r=>{for(const o of r)H(o.contentRect.width),j(o.contentRect.height)});t.observe(n),K(()=>t.disconnect())}e.onContainerReady?.({scrollTo:q,getScrollLeft:()=>y(),getScrollTop:()=>x(),getContainerWidth:()=>$(),getContainerHeight:()=>T(),getSvgElement:()=>b,scrollLeftSignal:y,scrollTopSignal:x,containerWidthSignal:$,containerHeightSignal:T,scrollTimingSignal:B,resetWorstTiming:()=>{}})});const A=()=>{const t=e.ganttConfig;return t?{"--gv-column-width":`${t.columnWidth?.()||45}px`,"--gv-bar-height":`${t.barHeight?.()||30}px`,"--gv-header-height":`${t.headerHeight?.()||60}px`,"--gv-padding":`${t.padding?.()||18}px`,"--gv-bar-corner-radius":`${t.barCornerRadius?.()||3}px`}:{}},D=()=>{if(e.height)return e.height;if(e.ganttConfig?.containerHeight){const t=e.ganttConfig.containerHeight();if(t!=="auto")return t}return"100%"};return(()=>{var t=N(),r=t.firstChild,o=r.nextSibling,l=o.nextSibling,f=l.nextSibling,h=f.firstChild,v=h.firstChild,P=v.nextSibling;a(r,()=>e.resourceHeaderLabel||"Resource");var W=c;typeof W=="function"?u(W,o):c=o,a(o,()=>e.header);var _=d;typeof _=="function"?u(_,l):d=l,a(l,()=>e.resourceColumn),f.addEventListener("scroll",V);var p=n;typeof p=="function"?u(p,f):n=f;var z=b;return typeof z=="function"?u(z,v):b=v,a(v,()=>e.children),a(P,()=>e.barsLayer),a(t,()=>e.overlay,null),I(i=>{var X={...A(),"grid-template-columns":`${G()}px 1fr`,"grid-template-rows":`${M()}px 1fr`,height:D()},k=e.svgWidth?`${e.svgWidth}px`:"100%",E=`${e.svgHeight||300}px`,O=e.svgWidth?`${e.svgWidth}px`:void 0;return i.e=J(t,X,i.e),k!==i.t&&w(h,"width",i.t=k),E!==i.a&&w(h,"height",i.a=E),O!==i.o&&w(h,"min-width",i.o=O),i},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}export{Z as G};
